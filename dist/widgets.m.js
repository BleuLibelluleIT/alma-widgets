import e,{useState as t,useEffect as n}from"react";import{IntlProvider as i,FormattedMessage as a,FormattedNumber as r,FormattedDate as l,useIntl as o}from"react-intl";import{unmountComponentAtNode as s,render as u}from"react-dom";import c from"classnames";import m from"react-modal";import d from"no-scroll";import{useMediaQuery as f}from"react-responsive";import{secondsToMilliseconds as g,isToday as p}from"date-fns";var y=Math.ceil,h=Math.floor,v=function(e){return isNaN(e=+e)?0:(e>0?h:y)(e)},b=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},E=function(e){return function(t,n){var i,a,r=String(b(t)),l=v(n),o=r.length;return l<0||l>=o?e?"":void 0:(i=r.charCodeAt(l))<55296||i>56319||l+1===o||(a=r.charCodeAt(l+1))<56320||a>57343?e?r.charAt(l):i:e?r.slice(l,l+2):a-56320+(i-55296<<10)+65536}},A={codeAt:E(!1),charAt:E(!0)},C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var O=function(e){return e&&e.Math==Math&&e},w=O("object"==typeof globalThis&&globalThis)||O("object"==typeof window&&window)||O("object"==typeof self&&self)||O("object"==typeof C&&C)||function(){return this}()||Function("return this")(),I=function(e){try{return!!e()}catch(e){return!0}},P=!I(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),S=function(e){return"object"==typeof e?null!==e:"function"==typeof e},x=w.document,N=S(x)&&S(x.createElement),D=function(e){return N?x.createElement(e):{}},L=!P&&!I(function(){return 7!=Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a}),j=function(e){if(!S(e))throw TypeError(String(e)+" is not an object");return e},M=function(e,t){if(!S(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!S(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!S(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!S(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},T=Object.defineProperty,k={f:P?T:function(e,t,n){if(j(e),t=M(t,!0),j(n),L)try{return T(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},R=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},z=P?function(e,t,n){return k.f(e,t,R(1,n))}:function(e,t,n){return e[t]=n,e},F=function(e,t){try{z(w,e,t)}catch(n){w[e]=t}return t},G=w["__core-js_shared__"]||F("__core-js_shared__",{}),V=Function.toString;"function"!=typeof G.inspectSource&&(G.inspectSource=function(e){return V.call(e)});var U,q,H,B=G.inspectSource,Z=w.WeakMap,J="function"==typeof Z&&/native code/.test(B(Z)),K={}.hasOwnProperty,W=function(e,t){return K.call(e,t)},Y=_(function(e){(e.exports=function(e,t){return G[e]||(G[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),Q=0,X=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Q+X).toString(36)},ee=Y("keys"),te=function(e){return ee[e]||(ee[e]=$(e))},ne={};if(J){var ie=G.state||(G.state=new(0,w.WeakMap)),ae=ie.get,re=ie.has,le=ie.set;U=function(e,t){return t.facade=e,le.call(ie,e,t),t},q=function(e){return ae.call(ie,e)||{}},H=function(e){return re.call(ie,e)}}else{var oe=te("state");ne[oe]=!0,U=function(e,t){return t.facade=e,z(e,oe,t),t},q=function(e){return W(e,oe)?e[oe]:{}},H=function(e){return W(e,oe)}}var se,ue,ce,me={set:U,get:q,has:H,enforce:function(e){return H(e)?q(e):U(e,{})},getterFor:function(e){return function(t){var n;if(!S(t)||(n=q(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},de={}.propertyIsEnumerable,fe=Object.getOwnPropertyDescriptor,ge={f:fe&&!de.call({1:2},1)?function(e){var t=fe(this,e);return!!t&&t.enumerable}:de},pe={}.toString,ye=function(e){return pe.call(e).slice(8,-1)},he="".split,ve=I(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==ye(e)?he.call(e,""):Object(e)}:Object,be=function(e){return ve(b(e))},Ee=Object.getOwnPropertyDescriptor,Ae={f:P?Ee:function(e,t){if(e=be(e),t=M(t,!0),L)try{return Ee(e,t)}catch(e){}if(W(e,t))return R(!ge.f.call(e,t),e[t])}},Ce=_(function(e){var t=me.get,n=me.enforce,i=String(String).split("String");(e.exports=function(e,t,a,r){var l,o=!!r&&!!r.unsafe,s=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet;"function"==typeof a&&("string"!=typeof t||W(a,"name")||z(a,"name",t),(l=n(a)).source||(l.source=i.join("string"==typeof t?t:""))),e!==w?(o?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=a:z(e,t,a)):s?e[t]=a:F(t,a)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||B(this)})}),_e=w,Oe=function(e){return"function"==typeof e?e:void 0},we=function(e,t){return arguments.length<2?Oe(_e[e])||Oe(w[e]):_e[e]&&_e[e][t]||w[e]&&w[e][t]},Ie=Math.min,Pe=function(e){return e>0?Ie(v(e),9007199254740991):0},Se=Math.max,xe=Math.min,Ne=function(e){return function(t,n,i){var a,r=be(t),l=Pe(r.length),o=function(e,t){var n=v(e);return n<0?Se(n+t,0):xe(n,t)}(i,l);if(e&&n!=n){for(;l>o;)if((a=r[o++])!=a)return!0}else for(;l>o;o++)if((e||o in r)&&r[o]===n)return e||o||0;return!e&&-1}},De=(Ne(!0),Ne(!1)),Le=function(e,t){var n,i=be(e),a=0,r=[];for(n in i)!W(ne,n)&&W(i,n)&&r.push(n);for(;t.length>a;)W(i,n=t[a++])&&(~De(r,n)||r.push(n));return r},je=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Me=je.concat("length","prototype"),Te={f:Object.getOwnPropertyNames||function(e){return Le(e,Me)}},ke={f:Object.getOwnPropertySymbols},Re=we("Reflect","ownKeys")||function(e){var t=Te.f(j(e)),n=ke.f;return n?t.concat(n(e)):t},ze=function(e,t){for(var n=Re(t),i=k.f,a=Ae.f,r=0;r<n.length;r++){var l=n[r];W(e,l)||i(e,l,a(t,l))}},Fe=/#|\.prototype\./,Ge=function(e,t){var n=Ue[Ve(e)];return n==He||n!=qe&&("function"==typeof t?I(t):!!t)},Ve=Ge.normalize=function(e){return String(e).replace(Fe,".").toLowerCase()},Ue=Ge.data={},qe=Ge.NATIVE="N",He=Ge.POLYFILL="P",Be=Ge,Ze=Ae.f,Je=function(e,t){var n,i,a,r,l,o=e.target,s=e.global,u=e.stat;if(n=s?w:u?w[o]||F(o,{}):(w[o]||{}).prototype)for(i in t){if(r=t[i],a=e.noTargetGet?(l=Ze(n,i))&&l.value:n[i],!Be(s?i:o+(u?".":"#")+i,e.forced)&&void 0!==a){if(typeof r==typeof a)continue;ze(r,a)}(e.sham||a&&a.sham)&&z(r,"sham",!0),Ce(n,i,r,e)}},Ke=function(e){return Object(b(e))},We=!I(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ye=te("IE_PROTO"),Qe=Object.prototype,Xe=We?Object.getPrototypeOf:function(e){return e=Ke(e),W(e,Ye)?e[Ye]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Qe:null},$e=!!Object.getOwnPropertySymbols&&!I(function(){return!String(Symbol())}),et=$e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,tt=Y("wks"),nt=w.Symbol,it=et?nt:nt&&nt.withoutSetter||$,at=function(e){return W(tt,e)||(tt[e]=$e&&W(nt,e)?nt[e]:it("Symbol."+e)),tt[e]},rt=at("iterator"),lt=!1;[].keys&&("next"in(ce=[].keys())?(ue=Xe(Xe(ce)))!==Object.prototype&&(se=ue):lt=!0),null==se&&(se={}),W(se,rt)||z(se,rt,function(){return this});var ot,st={IteratorPrototype:se,BUGGY_SAFARI_ITERATORS:lt},ut=Object.keys||function(e){return Le(e,je)},ct=P?Object.defineProperties:function(e,t){j(e);for(var n,i=ut(t),a=i.length,r=0;a>r;)k.f(e,n=i[r++],t[n]);return e},mt=we("document","documentElement"),dt=te("IE_PROTO"),ft=function(){},gt=function(e){return"<script>"+e+"<\/script>"},pt=function(){try{ot=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;pt=ot?function(e){e.write(gt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ot):((t=D("iframe")).style.display="none",mt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(gt("document.F=Object")),e.close(),e.F);for(var n=je.length;n--;)delete pt.prototype[je[n]];return pt()};ne[dt]=!0;var yt=Object.create||function(e,t){var n;return null!==e?(ft.prototype=j(e),n=new ft,ft.prototype=null,n[dt]=e):n=pt(),void 0===t?n:ct(n,t)},ht=k.f,vt=at("toStringTag"),bt=function(e,t,n){e&&!W(e=n?e:e.prototype,vt)&&ht(e,vt,{configurable:!0,value:t})},Et={},At=st.IteratorPrototype,Ct=function(){return this},_t=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return j(n),function(e){if(!S(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),Ot=st.IteratorPrototype,wt=st.BUGGY_SAFARI_ITERATORS,It=at("iterator"),Pt=function(){return this},St=A.charAt,xt=me.set,Nt=me.getterFor("String Iterator");!function(e,t,n,i,a,r,l){!function(e,t,n){e.prototype=yt(At,{next:R(1,function(){var e,t=Nt(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=St(n,i),t.index+=e.length,{value:e,done:!1})})}),bt(e,"String Iterator",!1),Et["String Iterator"]=Ct}(n);var o,s,u,c=function(e){if(void 0===e&&f)return f;if(!wt&&e in m)return m[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},m=e.prototype,d=m[It]||m["@@iterator"]||void 0,f=!wt&&d||c(void 0);if(d&&(o=Xe(d.call(new e)),Ot!==Object.prototype&&o.next&&(Xe(o)!==Ot&&(_t?_t(o,Ot):"function"!=typeof o[It]&&z(o,It,Pt)),bt(o,"String Iterator",!0))),m[It]!==f&&z(m,It,f),void(Et.String=f))if(void(s={values:c("values"),keys:c("keys"),entries:c("entries")}))for(u in s)(wt||!(u in m))&&Ce(m,u,s[u]);else Je({target:"String",proto:!0,forced:wt||!1},s)}(String,0,function(e){xt(this,{type:"String Iterator",string:String(e),index:0})});var Dt=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}},Lt=function(e,t,n,i){try{return i?t(j(n)[0],n[1]):t(n)}catch(t){throw function(e){var t=e.return;void 0!==t&&j(t.call(e))}(e),t}},jt=at("iterator"),Mt=Array.prototype,Tt=function(e){return void 0!==e&&(Et.Array===e||Mt[jt]===e)},kt=function(e,t,n){var i=M(t);i in e?k.f(e,i,R(0,n)):e[i]=n},Rt={};Rt[at("toStringTag")]="z";var zt="[object z]"===String(Rt),Ft=at("toStringTag"),Gt="Arguments"==ye(function(){return arguments}()),Vt=zt?ye:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Ft))?n:Gt?ye(t):"Object"==(i=ye(t))&&"function"==typeof t.callee?"Arguments":i},Ut=at("iterator"),qt=function(e){if(null!=e)return e[Ut]||e["@@iterator"]||Et[Vt(e)]},Ht=at("iterator"),Bt=!1;try{var Zt=0,Jt={next:function(){return{done:!!Zt++}},return:function(){Bt=!0}};Jt[Ht]=function(){return this},Array.from(Jt,function(){throw 2})}catch(e){}var Kt,Wt,Yt,Qt,Xt=!function(e,t){if(!Bt)return!1;var n=!1;try{var i={};i[Ht]=function(){return{next:function(){return{done:n=!0}}}},Array.from(i)}catch(e){}return n}();function $t(e){return Math.round(100*e)}function en(e){return Number((e/100).toFixed(2))}function tn(e){return String(en(e)).replace(".",",")}Je({target:"Array",stat:!0,forced:Xt},{from:function(e){var t,n,i,a,r,l,o=Ke(e),s="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,m=void 0!==c,d=qt(o),f=0;if(m&&(c=Dt(c,u>2?arguments[2]:void 0,2)),null==d||s==Array&&Tt(d))for(n=new s(t=Pe(o.length));t>f;f++)l=m?c(o[f],f):o[f],kt(n,f,l);else for(r=(a=d.call(o)).next,n=new s;!(i=r.call(a)).done;f++)l=m?Lt(a,c,[i.value,f],!0):i.value,kt(n,f,l);return n.length=f,n}}),function(e){e.PaymentPlans="PaymentPlans",e.Modal="Modal"}(Kt||(Kt={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILED="failed"}(Wt||(Wt={})),function(e){e.en="en",e.fr="fr",e.de="de",e.it="it",e.es="es",e.nl="nl",e["nl-NL"]="nl-NL",e["nl-BE"]="nl-BE"}(Yt||(Yt={})),"function"!=typeof(Qt=window.Element.prototype).matches&&(Qt.matches=Qt.msMatchesSelector||Qt.mozMatchesSelector||Qt.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof Qt.closest&&(Qt.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),"".trim||(String.prototype.trim=function(){return this.replace(/^[\sï»¿]+|[\sï»¿]+$/g,"")}),function(e){e.DOMException||((DOMException=function(e){this.message=e}).prototype=new Error);var t,n,i=/[\11\12\14\15\40]/,a=0,r=function(e,t){if(""===t)throw new DOMException("Failed to execute '"+e+"' on 'DOMTokenList': The token provided must not be empty.");if(-1!==(a=t.search(i)))throw new DOMException("Failed to execute '"+e+"' on 'DOMTokenList': The token provided ('"+t[a]+"') contains HTML space characters, which are not valid in tokens.")};"function"!=typeof DOMTokenList&&function(e){var t=e.document,n=e.Object,a=n.prototype.hasOwnProperty,l=n.defineProperty,o=0,s=0,u=function(){if(!o)throw TypeError("Illegal constructor")};function c(){var t=e.event,n=t.propertyName;if(!s&&("className"===n||"classList"===n&&!l)){var a=t.srcElement,r=a[" uCLp"],o=""+a[n],u=o.trim().split(i),c=a["classList"===n?" uCL":"classList"],m=r.length;e:for(var d=0,f=r.length=u.length,g=0;d!==f;++d){for(var p=0;p!==d;++p)if(u[p]===u[d]){g++;continue e}c[d-g]=u[d]}for(var y=f-g;y<m;++y)delete c[y];if("classList"!==n)return;s=1,a.classList=c,a.className=o,s=0,c.length=u.length-g}}function m(e){if(!e||!("innerHTML"in e))throw TypeError("Illegal invocation");e.detachEvent("onpropertychange",c),o=1;try{var t=function(){};t.prototype=new u}finally{o=0}var n=t.prototype,a=new t;e:for(var r=e.className.trim().split(i),m=0,d=r.length,f=0;m!==d;++m){for(var g=0;g!==m;++g)if(r[g]===r[m]){f++;continue e}this[m-f]=r[m]}n.length=d-f,n.value=e.className,n[" uCL"]=e,l?(l(e,"classList",{enumerable:1,get:function(){return a},configurable:0,set:function(t){s=1,e.className=n.value=t+="",s=0;var r=t.trim().split(i),l=n.length;e:for(var o=0,u=n.length=r.length,c=0;o!==u;++o){for(var m=0;m!==o;++m)if(r[m]===r[o]){c++;continue e}a[o-c]=r[o]}for(var d=u-c;d<l;++d)delete a[d]}}),l(e," uCLp",{enumerable:0,configurable:0,writeable:0,value:t.prototype}),l(n," uCL",{enumerable:0,configurable:0,writeable:0,value:e})):(e.classList=a,e[" uCL"]=a,e[" uCLp"]=t.prototype),e.attachEvent("onpropertychange",c)}u.prototype.toString=u.prototype.toLocaleString=function(){return this.value},u.prototype.add=function(){e:for(var e=0,t=arguments.length,n="",i=this[" uCL"],a=i[" uCLp"];e!==t;++e){r("add",n=arguments[e]+"");for(var l=0,o=a.length,u=n;l!==o;++l){if(this[l]===n)continue e;u+=" "+this[l]}this[o]=n,a.length+=1,a.value=u}s=1,i.className=a.value,s=0},u.prototype.remove=function(){for(var e=0,t=arguments.length,n="",i=this[" uCL"],a=i[" uCLp"];e!==t;++e){r("remove",n=arguments[e]+"");for(var l=0,o=a.length,u="",c=0;l!==o;++l)c?this[l-1]=this[l]:this[l]!==n?u+=this[l]+" ":c=1;c&&(delete this[o],a.length-=1,a.value=u)}s=1,i.className=a.value,s=0},e.DOMTokenList=u;try{e.Object.defineProperty(e.Element.prototype,"classList",{enumerable:1,get:function(e){return a.call(this,"classList")||m(this),this.classList},configurable:0,set:function(e){this.className=e}})}catch(n){e[" uCL"]=m,t.documentElement.firstChild.appendChild(t.createElement("style")).styleSheet.cssText='_*{x-uCLp:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}[class]{x-uCLp/**/:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}'}}(e),t=e.DOMTokenList.prototype,n=e.document.createElement("div").classList,t.item||(t.item=function(e){return void 0===(t=this[e])?null:t;var t}),t.toggle&&!1===n.toggle("a",0)||(t.toggle=function(e){if(arguments.length>1)return this[arguments[1]?"add":"remove"](e),!!arguments[1];var t=this.value;return this.remove(t),t===this.value&&(this.add(e),!0)}),t.replace&&"boolean"==typeof n.replace("a","b")||(t.replace=function(e,t){r("replace",e),r("replace",t);var n=this.value;return this.remove(e),this.value!==n&&(this.add(t),!0)}),t.contains||(t.contains=function(e){for(var t=0,n=this.length;t!==n;++t)if(this[t]===e)return!0;return!1}),t.forEach||(t.forEach=function(e){if(1===arguments.length)for(var t=0,n=this.length;t!==n;++t)e(this[t],t,this);else{t=0,n=this.length;for(var i=arguments[1];t!==n;++t)e.call(i,this[t],t,this)}}),t.entries||(t.entries=function(){var e=this;return{next:function(){return 0<e.length?{value:[0,e[0]],done:!1}:{done:!0}}}}),t.values||(t.values=function(){var e=this;return{next:function(){return 0<e.length?{value:e[0],done:!1}:{done:!0}}}}),t.keys||(t.keys=function(){var e=this;return{next:function(){return 0<e.length?{value:0,done:!1}:{done:!0}}}})}(window);var nn={"eligibility-modal.bullet-1":"WÃ¤hlen Sie an der Kasse <strong>Alma</strong> .","eligibility-modal.bullet-2":"FÃ¼llen Sie die <strong>angeforderten</strong> Informationen aus.","eligibility-modal.bullet-3":"Die BestÃ¤tigung Ihrer Zahlung <strong>sofort</strong> !","eligibility-modal.cost":"Davon Kosten","eligibility-modal.credit-commitment":"Ein Kredit verpflichtet Sie und muss zurÃ¼ckgezahlt werden. PrÃ¼fen Sie Ihre RÃ¼ckzahlungsfÃ¤higkeit, bevor Sie sich verpflichten.","eligibility-modal.credit-cost":"Davon Kreditkosten","eligibility-modal.credit-cost-amount":"{creditCost} (APR {TAEG})","eligibility-modal.no-eligibility":"Ups, die Simulation scheint nicht funktioniert zu haben.","eligibility-modal.title":"<highlighted>Bezahlen Sie in Raten</highlighted> oder spÃ¤ter per Kreditkarte mit Alma.","eligibility-modal.total":"Insgesamt","installments.today":"Heutzutage","payment-plan-strings.day-abbreviation":"J{numberOfDeferredDays}","payment-plan-strings.default-message":"Bezahlen Sie in Raten mit Alma","payment-plan-strings.deferred":"{totalAmount} zu zahlen am {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Bis zu {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Ab {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} dann {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} dann {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(gebÃ¼hrenfrei)"},an={"eligibility-modal.bullet-1":"Choose <strong>Alma</strong> at checkout.","eligibility-modal.bullet-2":"Fill in the <strong>information</strong> requested.","eligibility-modal.bullet-3":"Validation of your payment <strong>instantaneous</strong>!","eligibility-modal.cost":"Of which costs","eligibility-modal.credit-commitment":"A loan commits you and must be repaid. Check your ability to repay before committing yourself.","eligibility-modal.credit-cost":"Of which cost of credit","eligibility-modal.credit-cost-amount":"{creditCost} (APR {TAEG})","eligibility-modal.no-eligibility":"Oops, looks like the simulation didn't work.","eligibility-modal.title":"<highlighted>Pay in installments</highlighted> or later by credit card with Alma.","eligibility-modal.total":"Total","installments.today":"Today","payment-plan-strings.day-abbreviation":"T{numberOfDeferredDays}","payment-plan-strings.default-message":"Pay in installments with Alma","payment-plan-strings.deferred":"{totalAmount} to be paid on {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Until {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"From {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} then {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} then {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(free of charge)"},rn={"eligibility-modal.bullet-1":"Elige <strong>Alma</strong> como mÃ©todo de pago.","eligibility-modal.bullet-2":"Completa la <strong>informaciÃ³n</strong> solicitada.","eligibility-modal.bullet-3":"Â¡ValidaciÃ³n <strong>inmediata</strong> de tu pago!","eligibility-modal.cost":"Gastos (incl. en el total)","eligibility-modal.credit-commitment":"Un prÃ©stamo te compromete y debe ser devuelto. Comprueba tu capacidad financiera antes de comprometerte.","eligibility-modal.credit-cost":"Coste de crÃ©dito (incl. en el total)","eligibility-modal.credit-cost-amount":"{creditCost} (TAE {TAEG})","eligibility-modal.no-eligibility":"Uy, parece que la simulaciÃ³n no ha funcionado.","eligibility-modal.title":"<highlighted>Paga a plazos</highlighted> o mÃ¡s adelante con tu tarjeta, a travÃ©s de Alma.","eligibility-modal.total":"Total","installments.today":"Hoy","payment-plan-strings.day-abbreviation":"D{numberOfDeferredDays}","payment-plan-strings.default-message":"Pagar a plazos con Alma","payment-plan-strings.deferred":"{totalAmount} a pagar el {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Hasta {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Desde {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} hoy, despuÃ©s {numberOfRemainingInstallments} mensualidad de {othersInstallmentAmount}} other {{firstInstallmentAmount} hoy, despuÃ©s {numberOfRemainingInstallments} de {othersInstallmentAmount} mensualidades }}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} plazos de {totalAmount}","payment-plan-strings.no-fee":"(sin intereses)"},ln={"eligibility-modal.bullet-1":"Choisissez <strong>Alma</strong> au moment du paiement.","eligibility-modal.bullet-2":"Renseignez les <strong>informations</strong> demandÃ©es.","eligibility-modal.bullet-3":"La validation de votre paiement <strong>instantanÃ©e</strong> !","eligibility-modal.cost":"Dont frais","eligibility-modal.credit-commitment":"Un crÃ©dit vous engage et doit Ãªtre remboursÃ©. VÃ©rifiez vos capacitÃ©s de remboursement avant de vous engager.","eligibility-modal.credit-cost":"Dont coÃ»t du crÃ©dit","eligibility-modal.credit-cost-amount":"{creditCost} (TAEG {TAEG})","eligibility-modal.no-eligibility":"Oups, il semblerait que la simulation n'aie pas fonctionnÃ©.","eligibility-modal.title":"<highlighted>Payez en plusieurs fois</highlighted> ou plus tard par carte bancaire avec Alma.","eligibility-modal.total":"Total","installments.today":"Aujourd'hui","payment-plan-strings.day-abbreviation":"J{numberOfDeferredDays}","payment-plan-strings.default-message":"Payez en plusieurs fois avec Alma","payment-plan-strings.deferred":"{totalAmount} Ã  payer le {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Jusqu'Ã  {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Ã partir de {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(sans frais)"},on={"eligibility-modal.bullet-1":"Scegli <strong>Alma</strong> alla cassa.","eligibility-modal.bullet-2":"Compila le informazioni <strong></strong> richieste.","eligibility-modal.bullet-3":"Convalida del tuo pagamento <strong>istantanea</strong>!","eligibility-modal.cost":"Di cui commissioni","eligibility-modal.credit-commitment":"Un pagamento rateale ti impegna e deve essere ripagato. Verifica la tua capacitÃ  di rimborso prima di impegnarti.","eligibility-modal.credit-cost":"Di cui commissioni","eligibility-modal.credit-cost-amount":"{creditCost} (TAEG {TAEG})","eligibility-modal.no-eligibility":"Ops, sembra che la simulazione non abbia funzionato.","eligibility-modal.title":"<highlighted>Paga a rate</highlighted> e posticipa il pagamento con Alma, senza interessi.","eligibility-modal.total":"Totale","installments.today":"Oggi","payment-plan-strings.day-abbreviation":"G{numberOfDeferredDays}","payment-plan-strings.default-message":"Paga a rate con Alma","payment-plan-strings.deferred":"{totalAmount} da pagare il {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Disponibile fino a {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Pagamento rateale disponibile a partire da {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {Oggi paghi {firstInstallmentAmount} poi {numberOfRemainingInstallments} rata mensile di {othersInstallmentAmount}} other {Oggi paghi {firstInstallmentAmount} poi {numberOfRemainingInstallments} rate mensili di {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"In {installmentsCount} rate mensili di {totalAmount}","payment-plan-strings.no-fee":"(senza interessi)"},sn={"eligibility-modal.bullet-1":"Kies <strong>Alma</strong> bij het afrekenen.","eligibility-modal.bullet-2":"Vul de <strong>gevraagde informatie</strong> in.","eligibility-modal.bullet-3":"Validatie van uw betaling <strong>onmiddellijk</strong>!","eligibility-modal.cost":"Waarvan kosten","eligibility-modal.credit-commitment":"Een lening bindt je en moet worden terugbetaald. Ga na of u kunt terugbetalen voordat u zich vastlegt.","eligibility-modal.credit-cost":"Waarvan kosten van krediet","eligibility-modal.credit-cost-amount":"{creditCost} (APR {TAEG})","eligibility-modal.no-eligibility":"Oeps, het lijkt erop dat de simulatie niet werkte.","eligibility-modal.title":"<highlighted>Betaal in termijnen</highlighted> of later per credit card met Alma.","eligibility-modal.total":"Totaal","installments.today":"Tegenwoordig","payment-plan-strings.day-abbreviation":"J{numberOfDeferredDays}","payment-plan-strings.default-message":"Betaal in termijnen met Alma","payment-plan-strings.deferred":"{totalAmount} te betalen op {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Tot {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Van {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} dan {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} dan {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(gratis)"},un=function(e){switch(e){case Yt.fr:return ln;case Yt.en:return an;case Yt.es:return rn;case Yt.it:return on;case Yt.de:return nn;case Yt.nl:case Yt["nl-BE"]:case Yt["nl-NL"]:return sn;default:return an}},cn=function(t){var n=t.children,a=t.locale;return e.createElement(i,{messages:un(a),locale:a,defaultLocale:"en"},n)};function mn(){return(mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var dn=function(e,i,a){var r,l,o,s=i.domain,u=i.merchantId,c=t([]),m=c[0],d=c[1],f=t(Wt.PENDING),g=f[0],p=f[1],y=null==a?void 0:a.map(function(e){return{installments_count:e.installmentsCount,deferred_days:null==e?void 0:e.deferredDays,deferred_months:null==e?void 0:e.deferredMonths}});return n(function(){g===Wt.PENDING&&function(e,t,n){void 0===e&&(e="");try{return Promise.resolve(fetch(e,{method:"POST",headers:mn({"Content-Type":"application/json"},n),body:JSON.stringify(t)})).then(function(e){return e.json()})}catch(e){return Promise.reject(e)}}(s+"/v2/payments/eligibility",{purchase_amount:e,queries:y},{Authorization:"Alma-Merchant-Auth "+u}).then(function(e){d(e),p(Wt.SUCCESS)}).catch(function(){p(Wt.FAILED)})},[g]),[(r=m,l=a,o=r.filter(function(e){return!(1===e.installments_count&&0===e.deferred_days&&0===e.deferred_months)}),l?o.map(function(e){var t=30*(e.deferred_months?e.deferred_months:0)+(e.deferred_days?e.deferred_days:0),n=l.find(function(n){return e.installments_count===n.installmentsCount&&t===30*(n.deferredMonths?n.deferredMonths:0)+(n.deferredDays?n.deferredDays:0)});return mn({},e,{eligible:!!n&&e.purchase_amount>=(null==n?void 0:n.minAmount)&&e.purchase_amount<=(null==n?void 0:n.maxAmount),minAmount:null==n?void 0:n.minAmount,maxAmount:null==n?void 0:n.maxAmount})}):o),g]},fn=function(t){return e.createElement("div",{className:c("_31lrj",t.className),"data-testid":"loader"},e.createElement("div",{className:"_2p94X"},"a"),e.createElement("div",{className:"_1k0PM"}))};function gn(t){var n=t.color;return e.createElement("svg",{className:t.className,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12.5964 11.404L9.41445 8.22205L12.5964 5.04007C12.7732 4.86329 12.7732 4.50974 12.5964 4.33296L11.8893 3.62585C11.6904 3.42698 11.359 3.44908 11.1822 3.62585L8.00023 6.80783L4.81825 3.62585C4.61938 3.42698 4.28792 3.44908 4.11114 3.62585L3.40404 4.33296C3.20516 4.53183 3.20516 4.84119 3.40404 5.04007L6.58602 8.22205L3.40404 11.404C3.20516 11.6029 3.20517 11.9123 3.40404 12.1111L4.11115 12.8182C4.28792 12.995 4.61938 13.0171 4.81825 12.8182L8.00023 9.63626L11.1822 12.8182C11.359 12.995 11.6904 13.0171 11.8893 12.8182L12.5964 12.1111C12.7732 11.9344 12.7732 11.5808 12.5964 11.404Z",fill:void 0===n?"#fff":n}))}var pn=function(t){var n,i=t.children,a=t.isOpen,r=t.onClose,l=t.className,o=t.contentClassName,s=t.scrollable,u=void 0!==s&&s,f=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t.indexOf(n=r[i])>=0||(a[n]=e[n]);return a}(t,["children","isOpen","onClose","className","contentClassName","scrollable"]);return m.setAppElement("body"),e.createElement(m,Object.assign({className:c("_D8SjB",l),overlayClassName:"_1yxCb",onAfterOpen:function(){d.on()},onAfterClose:function(){d.off()},onRequestClose:r,isOpen:a,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},f),e.createElement("div",{className:"_12LLh"},e.createElement("button",{onClick:r,className:"_3YRro","data-testid":"modal-close-button"},e.createElement(gn,null))),e.createElement("div",{className:c("_ocM9x",o,(n={},n._1GP2F=u,n))},i))},yn=function(t){var n=t.installments_count,i=t.deferred_days+30*t.deferred_months;return 1===n?e.createElement(a,{id:"payment-plan-strings.day-abbreviation",defaultMessage:"J{numberOfDeferredDays}",values:{numberOfDeferredDays:i>0?"+"+i:""}}):n+"x"},hn=function(t){var n=t.currentPlanIndex,i=t.setCurrentPlanIndex;return e.createElement("div",{className:"_1l2Oa"},t.eligibilityPlans.map(function(t,a){var r;return e.createElement("button",{key:a,className:c((r={},r._3rue7=a===n,r)),onClick:function(){return i(a)}},yn(t))}))},vn=function(t){var n=t.currentPlan,i=n&&en(n.purchase_amount+n.customer_total_cost_amount),s=n?en(n.customer_total_cost_amount):0,u=(null==n?void 0:n.annual_interest_rate)&&n.annual_interest_rate/1e4,m=en(n?n.customer_total_cost_amount:0),d=n&&n.installments_count>4,f=o();return e.createElement("div",{className:"_MPKjS","data-testid":"modal-installments-element"},e.createElement("div",{className:c("_1A7Qv","_14Ejo")},e.createElement("span",null,e.createElement(a,{id:"eligibility-modal.total",defaultMessage:"Total"})),e.createElement("span",null,e.createElement(r,{value:i,style:"currency",currency:"EUR"}))),e.createElement("div",{className:c("_1A7Qv","_1ZIgu")},e.createElement("span",null,e.createElement(a,d?{id:"eligibility-modal.credit-cost",defaultMessage:"Dont coÃ»t du crÃ©dit"}:{id:"eligibility-modal.cost",defaultMessage:"Dont frais"})),e.createElement("span",null,d?e.createElement(a,{id:"eligibility-modal.credit-cost-amount",defaultMessage:"{creditCost} (TAEG {TAEG})",values:{creditCost:f.formatNumber(s,{style:"currency",currency:"EUR"}),TAEG:f.formatNumber(null!=u?u:0,{style:"percent",maximumFractionDigits:2})}}):e.createElement(r,{value:m,style:"currency",currency:"EUR"}))),((null==n?void 0:n.payment_plan)||[]).map(function(t,n){return e.createElement("div",{className:"_1A7Qv",key:n},e.createElement("span",null,p(1e3*t.due_date)?e.createElement(a,{id:"installments.today",defaultMessage:"Aujourd'hui"}):e.createElement(l,{value:1e3*t.due_date,day:"numeric",month:"long",year:"numeric"})),e.createElement("span",null,e.createElement(r,{value:en(t.total_amount),style:"currency",currency:"EUR"})))}),d&&e.createElement("p",{className:"_1BUr8"},e.createElement(a,{id:"eligibility-modal.credit-commitment",defaultMessage:"Un crÃ©dit vous engage et doit Ãªtre remboursÃ©. VÃ©rifiez vos capacitÃ©s de remboursement\n              avant de vous engager."})))},bn=function(){return e.createElement("div",{className:"_180ro","data-testid":"modal-info-element"},e.createElement("div",{className:"_1HqCO"},e.createElement("div",{className:"_3B8wx"},"1"),e.createElement("div",null,e.createElement(a,{id:"eligibility-modal.bullet-1",defaultMessage:"Choisissez <strong>Alma</strong> au moment du paiement.",values:{strong:function(){return e.createElement("strong",null,[].slice.call(arguments))}}}))),e.createElement("div",{className:"_1HqCO"},e.createElement("div",{className:"_3B8wx"},"2"),e.createElement("div",null,e.createElement(a,{id:"eligibility-modal.bullet-2",defaultMessage:"Renseignez les <strong>informations</strong> demandÃ©es.",values:{strong:function(){return e.createElement("strong",null,[].slice.call(arguments))}}}))),e.createElement("div",{className:"_1HqCO"},e.createElement("div",{className:"_3B8wx"},"3"),e.createElement("div",null,e.createElement(a,{id:"eligibility-modal.bullet-3",defaultMessage:"La validation de votre paiement <strong>instantanÃ©e</strong> !",values:{strong:function(){return e.createElement("strong",null,[].slice.call(arguments))}}}))))};function En(t){var n=t.color,i=void 0===n?"#00425D":n,a=t.underlineColor,r=void 0===a?"#00425D":a;return e.createElement("svg",{className:t.className,width:"35",height:"23",viewBox:"0 0 40 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M6.38546 10.1313V10.029H4.92542C4.23835 10.029 3.72877 10.0972 3.39668 10.2337C3.07605 10.3587 2.91573 10.6374 2.91573 11.0695C2.91573 11.7177 3.37378 12.0418 4.28988 12.0418C5.05711 12.0418 5.59532 11.8826 5.9045 11.5642C6.22514 11.2344 6.38546 10.7568 6.38546 10.1313ZM3.72304 13.9182C2.64663 13.9182 1.85076 13.6567 1.33546 13.1335C0.820153 12.599 0.5625 11.911 0.5625 11.0695C0.5625 10.0574 0.894586 9.32958 1.55876 8.88606C2.22293 8.43118 3.23636 8.20374 4.59906 8.20374H6.38546V7.82846C6.38546 6.98693 5.84725 6.56616 4.77083 6.56616C3.80893 6.56616 3.27644 6.93007 3.17338 7.65788H0.768622C0.848781 6.78223 1.21522 6.04873 1.86794 5.45738C2.52066 4.86603 3.50547 4.57036 4.82236 4.57036C6.1278 4.57036 7.11261 4.86035 7.77678 5.44032C8.44095 6.0203 8.77304 6.83909 8.77304 7.89669V13.7135H6.60875V12.7241C6.09345 13.5202 5.13155 13.9182 3.72304 13.9182Z",fill:i}),e.createElement("path",{d:"M14.2554 11.6324V13.6965C14.0149 13.7306 13.763 13.7476 13.4996 13.7476C12.5492 13.7476 11.8736 13.5486 11.4728 13.1506C11.072 12.7412 10.8716 12.0873 10.8716 11.1889V0.919922H13.3107V11.0183C13.3107 11.2344 13.3508 11.3936 13.4309 11.496C13.5111 11.5983 13.6771 11.6495 13.929 11.6495C13.9863 11.6495 14.0493 11.6495 14.118 11.6495C14.1982 11.6381 14.244 11.6324 14.2554 11.6324Z",fill:i}),e.createElement("path",{d:"M23.8943 8.63019V13.7135H21.4552V8.40844C21.4552 7.23711 20.9742 6.65145 20.0123 6.65145C19.4512 6.65145 19.0161 6.82203 18.7069 7.16319C18.4092 7.50436 18.2603 7.9763 18.2603 8.57902V13.7135H15.8212V4.77506H18.0714V5.86678C18.5409 5.0025 19.4054 4.57036 20.6651 4.57036C21.856 4.57036 22.7263 4.99113 23.2759 5.83266C24.0432 4.99113 25.0394 4.57036 26.2647 4.57036C27.3182 4.57036 28.1255 4.89446 28.6867 5.54267C29.2478 6.19088 29.5283 7.05516 29.5283 8.13551V13.7135H27.0892V8.40844C27.0892 7.23711 26.6083 6.65145 25.6464 6.65145C25.0738 6.65145 24.6386 6.82772 24.3409 7.18025C24.0432 7.52141 23.8943 8.00473 23.8943 8.63019Z",fill:i}),e.createElement("path",{d:"M37.0321 10.1313V10.029H35.572C34.885 10.029 34.3754 10.0972 34.0433 10.2337C33.7227 10.3587 33.5623 10.6374 33.5623 11.0695C33.5623 11.7177 34.0204 12.0418 34.9365 12.0418C35.7037 12.0418 36.2419 11.8826 36.5511 11.5642C36.8717 11.2344 37.0321 10.7568 37.0321 10.1313ZM34.3696 13.9182C33.2932 13.9182 32.4974 13.6567 31.9821 13.1335C31.4668 12.599 31.2091 11.911 31.2091 11.0695C31.2091 10.0574 31.5412 9.32958 32.2054 8.88606C32.8695 8.43118 33.883 8.20374 35.2457 8.20374H37.0321V7.82846C37.0321 6.98693 36.4939 6.56616 35.4174 6.56616C34.4555 6.56616 33.923 6.93007 33.82 7.65788H31.4152C31.4954 6.78223 31.8618 6.04873 32.5145 5.45738C33.1673 4.86603 34.1521 4.57036 35.469 4.57036C36.7744 4.57036 37.7592 4.86035 38.4234 5.44032C39.0876 6.0203 39.4196 6.83909 39.4196 7.89669V13.7135H37.2554V12.7241C36.7401 13.5202 35.7781 13.9182 34.3696 13.9182Z",fill:i}),e.createElement("rect",{y:"20",width:"40",height:"3",fill:r}))}var An,Cn,_n,On=function(){return e.createElement("div",{className:"_3Oyv_"},e.createElement(En,{underlineColor:"#FF414D"}))},wn=function(){return e.createElement("div",{className:"_3ERx-","data-testid":"modal-title-element"},e.createElement(a,{id:"eligibility-modal.title",defaultMessage:"<highlighted>Payez en plusieurs fois</highlighted> ou plus tard par carte bancaire avec Alma.",values:{highlighted:function(){return e.createElement("span",null,[].slice.call(arguments))}}}))},In=function(t){var n=t.children;return e.createElement("div",{className:"_21g6u","data-testid":"modal-container"},e.createElement("div",{className:c(["_3zaP5","_2SBRC"])},e.createElement(wn,null),e.createElement(bn,null),e.createElement(On,null)),e.createElement("div",{className:"_3zaP5"},n))},Pn=function(t){var n=t.children;return e.createElement("div",{className:"_2G7Ch","data-testid":"modal-container"},e.createElement(wn,null),n,e.createElement(bn,null),e.createElement(On,null))},Sn=function(n){var i=n.onClose,r=n.eligibilityPlans,l=n.status,o=t(n.initialPlanIndex||0),s=o[0],u=o[1],c=f({minWidth:800})?In:Pn,m=r.filter(function(e){return e.eligible}),d=m[s];return e.createElement(pn,{onClose:i,ariaHideApp:!1,scrollable:!0,isOpen:!0},e.createElement(c,Object.assign({},{eligibilityPlans:m,currentPlanIndex:s,setCurrentPlanIndex:u,currentPlan:d,status:l}),l===Wt.PENDING&&e.createElement("div",{className:"_2oTJq"},e.createElement(fn,null)),l===Wt.SUCCESS&&0===m.length&&e.createElement("div",{className:"_17qNJ"},e.createElement(a,{id:"eligibility-modal.no-eligibility",defaultMessage:"Oups, il semblerait que la simulation n'aie pas fonctionnÃ©."})),l===Wt.SUCCESS&&m.length>=1&&e.createElement(e.Fragment,null,e.createElement(hn,{eligibilityPlans:m,currentPlanIndex:s,setCurrentPlanIndex:u}),e.createElement(vn,{currentPlan:d}))))},xn=function(t){var n=t.onClose,i=dn(t.purchaseAmount,t.apiData,t.configPlans);return e.createElement(Sn,{initialPlanIndex:0,onClose:n,eligibilityPlans:i[0],status:i[1]})},Nn=function(t){return e.createElement("div",{className:c("_2SwwZ",t.className),"data-testid":"loader"},e.createElement("div",{className:"_2qODo"}),e.createElement("div",{className:"_2YO01"}))},Dn=function(i){var o,s,u,m,d=i.transitionDelay,f=i.hideIfNotEligible,p=i.suggestedPaymentPlan,y=dn(i.purchaseAmount,i.apiData,i.configPlans),h=y[0],v=y[1],b=h.filter(function(e){return e.eligible}),E=function(e){var t=e.suggestedPaymentPlan,n=e.eligibilityPlans,i=Array.isArray(t)?t:[t],a=function(e){var t=i[e],a=n.findIndex(function(e){return e.installments_count===t&&e.eligible});if(-1!==a)return{v:a}};for(var r in i){var l=a(r);if("object"==typeof l)return l.v}return 0}({eligibilityPlans:h,suggestedPaymentPlan:null!=p?p:0}),A=void 0!==p,C=void 0!==d,_=t(!1),O=_[0],w=_[1],I=h.reduce(function(e,t,n){return t.eligible?[].concat(e,[n]):e},[]),P=function(e,i){var a=t(0),r=a[0],l=a[1],o=t(!0),s=o[0],u=o[1];return n(function(){var t=!0;return 0!==e.length&&(!e.includes(r)&&s&&l(e[0]),setTimeout(function(){s&&t&&l(e[e.includes(r)?(e.indexOf(r)+1)%e.length:0])},i)),function(){t=!1}},[e,r]),{current:r,onHover:function(e){l(e),u(!1)},onLeave:function(){u(!0)}}}(I,C?null!=d?d:5500:A?31536e6:5500),S=P.current,x=P.onHover,N=P.onLeave;return n(function(){v===Wt.SUCCESS&&A&&(x(E),N())},[v]),v===Wt.PENDING?e.createElement("div",{className:c("_TSkFv","_1ZDMS")},e.createElement(Nn,null)):f&&0===b.length||0===h.length||v===Wt.FAILED?null:e.createElement(e.Fragment,null,e.createElement("div",{onClick:function(e){e.preventDefault(),b.length>0&&w(!0)},className:c("_TSkFv",(o={},o._UksZa=b.length>0,o["_1lr-q"]=0===b.length,o)),"data-testid":"widget-button"},e.createElement("div",{className:"_bMClc"},e.createElement(En,{className:"_LJ4nZ"}),e.createElement("div",{className:"_17c_S"},h.map(function(t,n){var i;return e.createElement("div",{key:n,onMouseEnter:function(){return x(n)},onMouseOut:N,className:c("_2Kqjn",(i={},i._3dG_J=S===n,i._3O1bg=!t.eligible,i))},yn(t))}))),e.createElement("div",{className:c("_25GrF",(s={},s._3O1bg=h[S]&&!h[S].eligible,s))},0!==h.length&&function(t){var n=t.installments_count,i=t.minAmount,o=void 0===i?0:i,s=t.maxAmount,u=void 0===s?0:s,c=t.deferred_days+30*t.deferred_months,m=function(){if(t.payment_plan.every(function(e){return 0===e.customer_fee&&0===e.customer_interest}))return e.createElement(e.Fragment,null," ",e.createElement(a,{id:"payment-plan-strings.no-fee",defaultMessage:"(sans frais)"}))};if(!t.eligible)return e.createElement(a,t.purchase_amount>u?{id:"payment-plan-strings.ineligible-greater-than-max",defaultMessage:"Jusqu'Ã  {maxAmount}",values:{maxAmount:e.createElement(r,{value:en(u),style:"currency",currency:"EUR"})}}:{id:"payment-plan-strings.ineligible-lower-than-min",defaultMessage:"Ã partir de {minAmount}",values:{minAmount:e.createElement(r,{value:en(o),style:"currency",currency:"EUR"})}});if(0!==c&&1===n)return e.createElement(e.Fragment,null,e.createElement(a,{id:"payment-plan-strings.deferred",defaultMessage:"{totalAmount} Ã  payer le {dueDate}",values:{totalAmount:e.createElement(r,{value:en(t.payment_plan[0].total_amount),style:"currency",currency:"EUR"}),dueDate:e.createElement(l,{value:g(t.payment_plan[0].due_date),day:"numeric",month:"long",year:"numeric"})}}),m());if(n>0){var d=t.payment_plan.every(function(e,n){return 0===n||e.total_amount===t.payment_plan[0].total_amount});return e.createElement(e.Fragment,null,e.createElement(a,d?{id:"payment-plan-strings.multiple-installments-same-amount",defaultMessage:"{installmentsCount} x {totalAmount}",values:{totalAmount:e.createElement(r,{value:en(t.payment_plan[0].total_amount),style:"currency",currency:"EUR"}),installmentsCount:n}}:{id:"payment-plan-strings.multiple-installments",defaultMessage:"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}}}",values:{firstInstallmentAmount:e.createElement(r,{value:en(t.payment_plan[0].total_amount),style:"currency",currency:"EUR"}),numberOfRemainingInstallments:n-1,othersInstallmentAmount:e.createElement(r,{value:en(t.payment_plan[1].total_amount),style:"currency",currency:"EUR"})}}),m())}return e.createElement(a,{id:"payment-plan-strings.default-message",defaultMessage:"Payez en plusieurs fois avec Alma"})}(h[S]))),O&&e.createElement(Sn,{initialPlanIndex:(u=S,m=I.findIndex(function(e){return e===u}),-1===m?0:m),onClose:function(){return w(!1)},eligibilityPlans:b,status:v}))},Ln=function(){function t(e){this.apiData=e}return t.prototype.add=function(t,n){var i=this,a=document.querySelector(n.container);if(a&&s(a),t===Kt.PaymentPlans){var r=n.container,l=n.locale;a&&u(e.createElement(cn,{locale:void 0===l?Yt.en:l},e.createElement(Dn,{purchaseAmount:n.purchaseAmount,apiData:this.apiData,configPlans:n.plans,transitionDelay:n.transitionDelay,hideIfNotEligible:n.hideIfNotEligible,suggestedPaymentPlan:n.suggestedPaymentPlan})),document.querySelector(r))}if(t===Kt.Modal){var o,c=n.container,m=n.clickableSelector,d=n.purchaseAmount,f=n.plans,g=n.locale,p=void 0===g?Yt.en:g,y=function(){return a&&s(a)},h=function(){u(e.createElement(cn,{locale:p},e.createElement(xn,{purchaseAmount:d,apiData:i.apiData,configPlans:f,onClose:y})),document.querySelector(c))};return m&&(null==(o=document.querySelector(m))||o.addEventListener("click",h,!1)),{open:h,close:y}}},t}();!function(e){e.LIVE="https://api.getalma.eu",e.TEST="https://api.sandbox.getalma.eu"}(An||(An={})),function(e){e.initialize=function(e,t){return new Ln({domain:t,merchantId:e})},e.PaymentPlans=Kt.PaymentPlans,e.Modal=Kt.Modal}(Cn||(Cn={})),function(e){e.priceToCents=$t,e.priceFromCents=en,e.formatCents=tn}(_n||(_n={}));export{An as ApiMode,_n as Utils,Cn as Widgets};
//# sourceMappingURL=widgets.m.js.map
